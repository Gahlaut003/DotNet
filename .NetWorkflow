â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            1ï¸âƒ£ ğŸ“¦ Development & Build Phase                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Developer writes C# code                                                  â”‚
â”‚    â”œâ”€ ğŸ”° Initiated by: Developer in IDE (e.g., Visual Studio, Rider)         â”‚
â”‚    â””â”€ Authored in .cs files using .NET SDK                                   â”‚
â”‚    â”œâ”€ ğŸ”¶ CTS enforced                                                        â”‚
â”‚    â”‚    â†’ Ensures type safety across all .NET languages                      â”‚
â”‚    â””â”€ ğŸ“œ CLS ensured                                                         â”‚
â”‚         â†’ Enables cross-language compatibility of public APIs               â”‚
â”‚                                                                              â”‚
â”‚ 2. MSBuild starts the build process                                          â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Build command (CLI or IDE)                            â”‚
â”‚    â””â”€ Parses .csproj files, resolves dependencies                            â”‚
â”‚    â””â”€ Builds targets and project configurations                              â”‚
â”‚                                                                              â”‚
â”‚ 3. Roslyn compiles C# to Intermediate Language (IL)                          â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: MSBuild invoking C# compiler                          â”‚
â”‚    â”œâ”€ âœ… Syntax & type checks performed                                      â”‚
â”‚    â”œâ”€ ğŸ“¦ Type Checker enforces language-level type rules (CLR)              â”‚
â”‚    â””â”€ IL + metadata emitted                                                  â”‚
â”‚                                                                              â”‚
â”‚ 4. IL + metadata saved in PE files (DLLs/EXEs)                               â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Roslyn compiler output                                â”‚
â”‚    â””â”€ Portable Executable format stores assemblies                           â”‚
â”‚    â””â”€ Metadata includes types, tokens, methods, etc.                         â”‚
â”‚                                                                              â”‚
â”‚ 5. NuGet packages resolved                                                   â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: MSBuild dependency resolution                         â”‚
â”‚    â”œâ”€ External dependencies restored                                         â”‚
â”‚    â”œâ”€ Dependency graph built                                                 â”‚
â”‚    â””â”€ .deps.json & runtimeconfig.json generated                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         2ï¸âƒ£ âš™ï¸ Application Hosting Layer                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 6. App launched via dotnet CLI or executable                                 â”‚
â”‚    â”œâ”€ ğŸ”° Initiated by: User runs dotnet CLI / application EXE                â”‚
â”‚    â”œâ”€ HostFXR loads runtime version                                          â”‚
â”‚    â””â”€ HostPolicy locates and configures runtime                              â”‚
â”‚                                                                              â”‚
â”‚ 7. CoreCLR runtime loaded                                                    â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: HostFXR/HostPolicy                                    â”‚
â”‚    â”œâ”€ ğŸ§  CLR initializes components:                                          â”‚
â”‚    â”‚   â”œâ”€ ğŸ“š Base Class Library support (System.*, etc.)                     â”‚
â”‚    â”‚   â”œâ”€ ğŸ§µ Thread support (ThreadPool, Tasks, async)                       â”‚
â”‚    â”‚   â”œâ”€ ğŸ”Œ COM Marshaler (Interop services)                                â”‚
â”‚    â”‚   â”œâ”€ ğŸ”’ Security Engine (CAS, Permissions)                              â”‚
â”‚    â”‚   â”œâ”€ ğŸ Debug Engine (Symbols, breakpoints)                             â”‚
â”‚    â”‚   â”œâ”€ âš™ï¸ Code Manager (JIT method mgmt & stubs)                          â”‚
â”‚    â”‚   â”œâ”€ ğŸ”„ IL Compilers (JIT, Tiered Compilation)                          â”‚
â”‚    â”‚   â”œâ”€ ğŸ§¹ Garbage Collector (Gen0/1/2, LOH)                                â”‚
â”‚    â”‚   â””â”€ ğŸ“¦ Class Loader (AssemblyLoadContext, Reflection)                 â”‚
â”‚    â”œâ”€ AssemblyLoadContext created                                            â”‚
â”‚    â””â”€ P/Invoke loads native libraries (OpenSSL/SChannel)                     â”‚
â”‚                                                                              â”‚
â”‚ 8. Program.cs runs                                                           â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: CoreCLR entry point execution                         â”‚
â”‚    â”œâ”€ Entry point initializes host                                           â”‚
â”‚    â””â”€ CreateHostBuilder() sets up DI container                               â”‚
â”‚                                                                              â”‚
â”‚ 9. Startup.cs runs                                                           â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: WebHost/GenericHost initialization                    â”‚
â”‚    â”œâ”€ ConfigureServices() builds DI container                                â”‚
â”‚    â”œâ”€ ğŸ”¶ CTS ensures typed registrations                                     â”‚
â”‚    â”‚    â†’ Guarantees strict type checking in DI services                     â”‚
â”‚    â”œâ”€ ğŸ“œ CLS ensures interoperable contracts                                 â”‚
â”‚    â”‚    â†’ Allows public service APIs to work across .NET languages           â”‚
â”‚    â””â”€ Configure() registers middleware                                       â”‚
â”‚                                                                              â”‚
â”‚10. Middleware pipeline built                                                 â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Startup.Configure execution                           â”‚
â”‚    â””â”€ Delegates compiled via JIT                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 3ï¸âƒ£ ğŸŒ HTTP Request Lifecycle (ASP.NET Core)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚11. Kestrel starts HTTP listener                                              â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Host.RunAsync()                                       â”‚
â”‚    â”œâ”€ Binds to TCP port (IOCP/epoll/kqueue)                                  â”‚
â”‚    â””â”€ TLS handshake (OpenSSL/SChannel)                                       â”‚
â”‚                                                                              â”‚
â”‚12. Incoming request hits TCP socket                                          â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: External HTTP client request                          â”‚
â”‚    â””â”€ OS handles with IOCP/epoll/kqueue                                      â”‚
â”‚                                                                              â”‚
â”‚13. ThreadPool schedules work item                                            â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: OS socket signal via Kestrel                          â”‚
â”‚    â”œâ”€ CLR Thread support activates thread queue                              â”‚
â”‚    â””â”€ Work-stealing and CPU-aware scheduling                                 â”‚
â”‚                                                                              â”‚
â”‚14. Kestrel parses HTTP headers/body                                          â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Request buffer ready for parsing                      â”‚
â”‚    â”œâ”€ Efficient parsing using Span<T>, Utf8Parser                            â”‚
â”‚    â””â”€ Uses System.IO.Pipelines                                               â”‚
â”‚                                                                              â”‚
â”‚15. Request passed to ASP.NET Core runtime                                    â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Kestrel forwarding HTTP context                       â”‚
â”‚    â””â”€ Control transferred to middleware pipeline                             â”‚
â”‚                                                                              â”‚
â”‚16. Middleware pipeline begins                                                â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: ASP.NET Core runtime                                  â”‚
â”‚    â”œâ”€ Logging, Exception Handling, Auth, etc.                                â”‚
â”‚    â””â”€ CLR Exception Manager monitors all errors                              â”‚
â”‚                                                                              â”‚
â”‚17. Routing Middleware identifies endpoint                                    â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Middleware pipeline                                   â”‚
â”‚    â””â”€ Maps request to appropriate controller/action                          â”‚
â”‚                                                                              â”‚
â”‚18. Endpoint attributes validated ([HttpGet], etc.)                           â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Routing result                                        â”‚
â”‚    â””â”€ Ensures correct routing annotations                                    â”‚
â”‚                                                                              â”‚
â”‚19. Filters executed (Auth, Resource, Action, Exception)                      â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Endpoint invocation                                   â”‚
â”‚    â””â”€ CLR Exception Manager + Debug Engine intercepts faults                 â”‚
â”‚                                                                              â”‚
â”‚20. Model Binding & Validation                                                â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Controller parameter resolution                       â”‚
â”‚    â”œâ”€ Binds request to parameters using Expression Trees                     â”‚
â”‚    â”œâ”€ ğŸ”¶ CTS: Type-checked binding                                           â”‚
â”‚    â”‚    â†’ Validates model data types during binding                          â”‚
â”‚    â””â”€ âœ… Input validation enforced                                           â”‚
â”‚                                                                              â”‚
â”‚21. DI injects Controller + Dependencies                                      â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: ASP.NET Core ActivatorUtilities                       â”‚
â”‚    â”œâ”€ Constructor injection with services                                    â”‚
â”‚    â”œâ”€ ğŸ”¶ CTS compliance ensured                                              â”‚
â”‚    â”‚    â†’ Ensures type-safe object injection                                 â”‚
â”‚    â””â”€ ğŸ“œ CLS compliance ensured                                              â”‚
â”‚         â†’ Services are compatible across .NET languages                      â”‚
â”‚                                                                              â”‚
â”‚22. Controller method is invoked                                              â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: MVC/Routing invoking matched action                   â”‚
â”‚    â”œâ”€ ğŸŸ¢ CLR: JIT (IL Compilers) compiles method to native                   â”‚
â”‚    â””â”€ CLR handles GC, exceptions, async support                              â”‚
â”‚                                                                              â”‚
â”‚22.1 ğŸ§® Code executed by CLR                                                  â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: JIT-compiled native method execution                  â”‚
â”‚    â”œâ”€ Executed on physical CPU by CLR via native instructions               â”‚
â”‚    â””â”€ CLR handles stack frames, exceptions, garbage collection               â”‚
â”‚                                                                              â”‚
â”‚23. Controller â†’ Service â†’ Repository                                         â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Application logic                                     â”‚
â”‚    â”œâ”€ Async/await or ValueTask<T> flows                                      â”‚
â”‚    â””â”€ CLR coordinates continuation tasks                                     â”‚
â”‚                                                                              â”‚
â”‚23.1 ğŸ§® Application logic executed by CLR                                     â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Service/Repository IL compiled by JIT                â”‚
â”‚    â””â”€ CPU executes logic via CLR runtime                                    â”‚
â”‚                                                                              â”‚
â”‚24. Data returned up to Controller                                            â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Awaited async calls completing                        â”‚
â”‚    â””â”€ Propagated up the call stack                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             4ï¸âƒ£ ğŸ¨ Optional: View Rendering (MVC / Razor)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚25. Razor View selected (e.g., Index.cshtml)                                  â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Controller returns a ViewResult                       â”‚
â”‚    â”œâ”€ View compiled: C# â†’ IL â†’ JITâ€™d native (on first access)                â”‚
â”‚    â”œâ”€ ğŸ”¶ CTS enforced in view code                                           â”‚
â”‚    â”‚    â†’ Ensures type-safe Razor components                                 â”‚
â”‚    â”œâ”€ ğŸ“œ CLS enforced in view code                                           â”‚
â”‚    â”‚    â†’ Ensures views are language-agnostic                                â”‚
â”‚    â””â”€ HTML encoding applied (XSS protection)                                 â”‚
â”‚                                                                              â”‚
â”‚26. View generates HTML string                                                â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Razor engine rendering                                â”‚
â”‚    â””â”€ Returned as part of controller action result                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 5ï¸âƒ£ ğŸ“¤ Response Handling & Post-Processing                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚27. Action Result returned (View, JSON, File, etc.)                           â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Controller completes execution                        â”‚
â”‚    â””â”€ Final output passed to response pipeline                               â”‚
â”‚                                                                              â”‚
â”‚28. Result Filters (post-processing logic) run                                â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: ASP.NET Core action result pipeline                   â”‚
â”‚    â””â”€ Final transformations (e.g., formatting)                               â”‚
â”‚                                                                              â”‚
â”‚29. Middleware post-processing                                                â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Response moving back up middleware                    â”‚
â”‚    â”œâ”€ Logging, Compression, Exception wrapping                               â”‚
â”‚    â””â”€ CLR ensures error handling completed                                   â”‚
â”‚                                                                              â”‚
â”‚30. Response serialized (e.g., JSON via Utf8JsonWriter)                       â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Formatter middleware / endpoint logic                 â”‚
â”‚    â””â”€ Headers, content length, content-type set                              â”‚
â”‚                                                                              â”‚
â”‚31. Written to HTTP stream                                                    â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: ASP.NET Core response writer                          â”‚
â”‚    â””â”€ Copied to SocketAsyncEventArgs buffer                                  â”‚
â”‚                                                                              â”‚
â”‚32. Kestrel sends HTTP response                                               â”‚
â”‚    â”œâ”€ ğŸ”° Triggered by: Stream write completed                                â”‚
â”‚    â””â”€ TCP packets transmitted via OS stack                                   â”‚
â”‚                                                                              â”‚
â”‚33. TCP response reaches client                                               â”‚
â”‚    â””â”€ ğŸ”° Triggered by: Network layer delivery                                â”‚
â”‚    â””â”€ Client receives final HTTP response                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    6ï¸âƒ£ ğŸ§  Deep CLR / OS-Level Operations                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CLR Responsibilities:                                                        â”‚
â”‚ â”œâ”€ ğŸ”° Triggered by: App execution and runtime needs                         â”‚
â”‚ â”œâ”€ ğŸ“š Base Class Library support                                             â”‚
â”‚ â”œâ”€ ğŸ§µ Thread support (ThreadPool, Tasks, async)                              â”‚
â”‚ â”œâ”€ ğŸ”Œ COM Marshaler for interop                                              â”‚
â”‚ â”œâ”€ ğŸ›¡ï¸ Security Engine (CAS, role-based access)                             â”‚
â”‚ â”œâ”€ ğŸ Debug Engine (debug symbols, exception diagnostics)                    â”‚
â”‚ â”œâ”€ âš™ï¸ Code Manager (JIT mapping, method body mgmt)                          â”‚
â”‚ â”œâ”€ ğŸ”„ IL Compilers (JIT/Tiered Compilation)                                  â”‚
â”‚ â”œâ”€ ğŸ§¹ Garbage Collector (Generational GC, LOH)                               â”‚
â”‚ â””â”€ ğŸ“¦ Class Loader (AssemblyLoadContext, Reflection)                        â”‚
â”‚                                                                              â”‚
â”‚ ğŸ”¶ CTS (Common Type System):                                                 â”‚
â”‚ â”œâ”€ Ensures runtime type safety                                               â”‚
â”‚ â””â”€ All values validated by type contract                                     â”‚
â”‚                                                                              â”‚
â”‚ ğŸ“œ CLS (Common Language Specification):                                      â”‚
â”‚ â”œâ”€ Guarantees cross-language API exposure                                    â”‚
â”‚ â””â”€ Public APIs usable across .NET languages                                  â”‚
â”‚                                                                              â”‚
â”‚ OS Responsibilities:                                                         â”‚
â”‚ â”œâ”€ ğŸ”° Triggered by: Hardware + app/kernel interactions                       â”‚
â”‚ â”œâ”€ Thread Scheduling, File I/O, Paging, DNS                                  â”‚
â”‚ â”œâ”€ I/O Completion Ports / epoll / kqueue                                     â”‚
â”‚ â””â”€ TLS Termination (OpenSSL, SChannel, Apple TLS)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
